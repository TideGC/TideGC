---
alias: 
- SQL 语句优化
---

## SQL 语句优化

### 避免 SELECT * 

从数据库里读出越多的数据，那么查询就会变得越慢。并且如果你的数据库服务器和 WEB 服务器是两台独立的服务器的话，这还会增加网络传输的负载。

### 在 WHERE 中尽量使用等值判断

之前在查询计划的 type 字段值的解释中大家已经看到了，等值判断才有可能触发索引，非等值判断无论时触发 range 查询，还是 all 查询，其速度都要低于等值判断的 查询。

### 尽量避免全表扫描

对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。

### 用 UNION 来代替 OR

使用 OR 进行查询，在 explain 中它的查询方式是 range 方式，而使用 UNION 来代替之后，它的查询方式是 ref 或者是 const 。虽然看似 MySQL 做了更多的工作，但是效率却更高。

### like 语句避免前置百分号

like 中使用前置百分号，查询方式是 ALL ，全表扫描，很显然查询没有走索引，索引失效。如果仅使用后置百分号，查询方式是 range ，索引生效。

> 模糊查询中的前置百分号和联合索引中的最左原则，是索引失效的最常见的两种情况。
