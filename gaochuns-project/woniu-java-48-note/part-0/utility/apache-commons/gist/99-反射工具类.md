---
alias: 反射相关的工具类
---

## 反射相关的工具类

apache commons-lang3 工具库中包含了少量的、较为常见的与反射相关的工具类。

### ClassUtils

取得类相关信息的工具类。例如，包名，类名，所继承的父类，所实现的接口信息等。

```java
/* 取得包名 */
String getPackageName(Class<?>)
String getPackageName(String)
String getPackageName(Object, String)

/* 取得类名 */
String getShortClassName(Class<?>)
String getShortClassName(String)
String getShortClassName(Object, String)

/* 取得类所实现的所有接口的完全限定名，包括父接口实现的接口名 */
List<Class<?>> getAllInterfaces(Class<?>)

/* 取得类所继的父类的完全限定名，包括父类继承的父类名 */
List<Class<?>> getAllSuperclasses(Class<?>)
```

### FieldUtils

```java
/* 获得域对象（Field）*/
Field getField(Class<?>, String, [boolean]);         /* 包括继承而来的域 */

/* 读取对象的指定域的值 */
Object readField(Field, Object, [boolean]);          /* 包括继承而来的域 */
Object readField(Object, String, [boolean]);

/* 读取静态域的值 */
Object readStaticField(Field, [boolean]);            /* 包括继承而来的域 */
Object readStaticField(Class<?>, String, [boolean]);

void writeField(Field, Object, Object, [boolean]);   /* 包括继承而来的域 */
void writeField(Object, String, Object, [boolean]);

void writeStaticField(Field, Object, [boolean]);     /* 包括继承而来的域 */
void writeStaticField(Class<?>, String, Object, [boolean]);

/***************************************************************************/

/* 同上，只不过以下方法可以操作继承而来的域 */
 Field getDeclaredField(Class<?>, String, [boolean]);
Object readDeclaredField(Object, String, [boolean]);
Object readDeclaredStaticField(Class<?>, String, [boolean]); 
  void writeDeclaredField(Object, String, Object, [boolean]); 
  void writeDeclaredStaticField(Class<?>, String, Object, [boolean]); 
```


### MethodUtils

- 调用静态方法

```java
Object invokeStaticMethod(Class<?>, String, Object...);
Object invokeStaticMethod(Class<?>, String, Object[], Class<?>[]);
```

invokeStaticMethod 方法比传统的 java 反射方法的写法更加简洁。

- 调用非静态方法

```java
Object invokeMethod(Object, String);
Object invokeMethod(Object, boolean, String); 
Object invokeMethod(Object, String, Object...);
Object invokeMethod(Object, boolean, String, Object... )
Object invokeMethod(Object, boolean, String, Object[], Class<?>[]);
Object invokeMethod(Object, String, Object[], Class<?>[]);
```

MethodUtils 下的方法只能调用 public 的方法，否则会抛出异常。

### ConstructorUtils

```java
T invokeConstructor(Class<T>, Object...);
T invokeConstructor(Class<T>, Object[], Class<?>[]);
```

invokeConstructor 方法，只能调用 public 的构造函数，否则会抛出异常。



