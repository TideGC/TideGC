---
alias: 
- 提前做的配置工作
---

## 提前做的配置工作

> [!cite] 说明
> 以下内容对未来的操作会有重要影响，因此在学习、使用 maven 之前，我们先执行一下这些配置操作。

在使用 Maven 的过程中，Maven 会通过互联网从一个名为"**中央仓库**"的地方下载所需的各种包，但是由于这个下载地址是在国外，因此下载速度很慢且不稳定。阿里<small>（还有其他的公司和机构）</small>对这个中央仓库提供了"**镜像服务**"，并保持持续的更新。

在正式使用 maven 之前，我们提前配置好阿里的 maven 仓库，以避免白白浪费时间。

#### 第 1 步：在 **C:\\Users\\<用户名>** 目录下创建一个名为 **.m2** 的文件夹

这里有几个注意事项：

1. 这个目录是 Windows 操作系统的用户家目录，可以通过 %homepath% 快速进入到这个目录；

2. 如果这个文件夹存在，那么就直接利用它，不需要再创建了；

2. 由于 windows 图形化界面中认为 <mark style="background: #CACFD9A6;">.m2</mark> 这个文件名“有问题”，所以这里直接使用命令行命令创建它：<mark style="background: #CACFD9A6;">md .m2</mark> 。

#### 第 2 步：在 .m2 中创建 **settings.xml** 配置文件

将笔记中的 "part-0/模板" 下的 **settings.xml** 配置文件复制到 .m2 中目录中，即可。

这里有几个注意事项：

1. 在这个配置文件中，我们主要配置了"中央仓库"的网址。从默认的、外网仓库网址改成了阿里提供的国内镜像服务器网址<small>（从而提高未来使用中下载包的速度）</small>。

2. 如果 .m2 中原本就有 settings.xml 配置文件，而那么稳妥起见，你就需要将我们的模板文件中的内容"抠"出来，复制进去<small>（而不是贸然的直接复制覆盖源文件，以免出现原配置丢失的情况）</small>。

#### 第 3 步：在 .m2 中创建 cleanLastUpdated.bat 脚本文件

> 这个脚本文件是为了解决[[202212312139|《笔记》]]中所说的问题。

将笔记中的 "part-0/模板" 下的 **cleanLastUpdated.bat** 脚本文件复制到 .m2 中目录中，即可。

这里有几个注意事项：

1. 这个脚本文件是用来清除 %homepath%/.m2/repository 中的 .lastUpdated 文件的。使用时双击它即可。

2. 如果你改动过配置，使得你的本地仓库并不在默认的 %homepath%/.m2/repository 中，而你还想利用这个脚本文件，那么你就需要打开它、编辑它，改成符合你的需要的情况。

#### 其它

在未来，settings.xml 的"旁边"会有一个名为 "**repository**" 的文件夹，你从或阿里的镜像服务器<small>（即，中央仓库）</small>下载的各种包，就会被放在这里面。这个 "repository" 文件夹，也被称为 maven 的 "**本地仓库**" 。

