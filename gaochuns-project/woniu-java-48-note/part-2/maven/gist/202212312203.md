---
alias: 依赖冲突
---

## 依赖冲突

依赖冲突指的是你的项目中「**包含了同一个包的两个不同版本**」。这种情况下通常会导致项目报错，或启动失败。

依赖冲突常见于两个场景：

1. 同一个项目的两个开发人员不约而同想到使用同一个 java 库，而互相不知道。从而导致项目的 pom 中引入了同一个包的两个不同版本。

2. 项目依赖于 A 和 B 两个库，看似没有问题，但是 B 库本身又依赖于 A 库<small>（或者是，B 库依赖于 C 库，而 C 库依赖于 A 库）</small>。从而导致项目中最终还是包含了 A 库的两个不同版本。

Maven 会自动解决依赖冲突问题，它基于 2 个原则来处理：

1. 路径最近者优先

   项目 A 有如下的依赖关系：

   A -> B -> C -> X <small>（1.0）</small>

   A -> D -> X <small>（2.0）</small>

   maven 最终包含的会是 X 库的 2.0 版本。

2. 路径相等，先声明者优先

   项目 A 有如下的依赖关系：

   A -> B -> Y<small>（1.0）</small>

   A -> C -> Y<small>（2.0）</small>
   
   若 pom 文件中 B 的依赖坐标先于 C 进行声明，则最终 Y 的版本为 1.0 。

在开发工具中，可以有图形化界面让你直观地看到依赖关系，其中会将依赖冲突展示出来。<small>IDEA 图形化展示效果比 Eclipse 要更好。</small>

