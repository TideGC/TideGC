---
alias: Spring MVC 接受 json-string 格式参数
---

## Spring MVC 接受 json-string 格式参数

如果，我们将 **contentType** 赋值为 `application/json` 表示向后台发起请求时，是将一个 **JSON String** 携带在了 Request 的 body 部分，需要 Spring MVC 通过 _@RequestBody_ 进行参数绑定，获取并解析出这个 JSON 格式字符串。<small>此时使用 _@RequestParam_ 注解无效，_@RequestParam_ 注解和 json-string “不搭”。</small>

> [!bug] Spring MVC 在这里有个小坑：
> 
> Spring MVC 默认使用 Jackson 来做对象和 JSON 格式字符串的互转。Spring MVC 中已内置了相关的配置，无需你再在配置文件中进行配置。
> 
> 但是 **spring-webmvc 的依赖关系中并没有包含 jackson 包**！！！ 
> 
> 所以，尽管不需要进行配置，但是你的项目的 pom.xml 中，仍然**需要你手动加包**。

例如，向后台传递一个对象的数组：

```js
var emp1 = { empno: 20, ename: 'tom' };
var emp2 = { empno: 19, ename: 'ben' };
var arr = [emp1, emp2];

var jsonStr = JSON.stringify(arr); // [{"empno":20,"ename":"tom"},{"empno":21,"ename":"jerry"}]

$.ajax({
  …
  contentType: "application/json",
  data: jsonStr,  // 一定要传入自己转换好的 JSON 格式字符串。直接传入对象的话，jQuery 『帮』你转成了 queryString
  …                              
});
```

```java
public void add(@RequestBody Employee[] emps) {
}
```
