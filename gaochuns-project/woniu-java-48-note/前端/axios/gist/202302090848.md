
---
alias: 
  - '发起 AJAX POST 请求：query-string 方式'
tags: 
  - axios
---

## 发起 AJAX POST 请求：query-string 方式

> [!attention] 注意
> axios 常规的 post 请求的 content-type 的默认值就是 `application/json` 。 

因此，在你没有“额外”设置的情况下，你通过 axios 发出的 AJAX Post 请求的参数传递方式都是 json-string 方式，而非 query-string 方式。此时，你在后台的 `request.getParameter("…")` 是获取不到值的。

关于如何“获得”自己想要的 queery-string，可以参见笔记[[202302090901|《在 JS 中如何构造一个 query-string》]]。

> [!cite] 提示
> post 请求参数传递的 query-string 和 json-string 问题不是 axios 特有的问题，这是 HTTP 协议本身的约定。
> 
> 你使用其它的库、包，例如，jquery 的 `$.ajax()`、`$.post()` 方法一样也是要面对和处理这个问题。

### 示例：原始的、底层的、通用的方式

```js
const obj = {
    username: 'tom',
    password: '123456'
};

const queryString = Qs.stringify(obj);
 
axios({
    baseURL: '/servlet-example',    // 会拼接在 url 的前面
    url: '/hello.do',
    method: 'post',
    headers: { 
        'content-type': 'application/x-www-form-urlencoded' 
    },
    data: queryString   // 注意：属性名是 data:… ，不是 get 请求的 params: …
}).then(response => {
    console.log(response);
}).catch(error => {
    console.log(error);
});
```
