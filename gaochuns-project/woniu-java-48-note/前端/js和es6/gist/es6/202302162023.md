---
alias: 函数优化
---

## 函数优化

````ad-cite
title: 函数参数默认值
collapse: close

在 ES6 以前，我们无法给一个函数参数设置默认值，只能自己实现该逻辑。现在可以这么写：

```js
function add(a, b = 1) {
    return a + b;
}

add(10);
```
````

````ad-cite
title: 箭头函数
collapse: close

箭头函数是 ES6 中定义函数的简写。

- 一个参数时：

  ```js
  var print = function (obj) {
    console.info(obj);
  }

  // 简写为
  var print = obj => console.info(obj);
  ```

<small>本质上这就是 lambda 表达式概念在 JS 中的应用。不同的是在 Java 中使用的是 `->`，而在 ES6 里使用的是 `=>` 。</small>

- 两个参数时：

  ```js
  var sum = function (a, b) {
    return a + b;
  }

  // 简写为
  var sum = (a, b) => return a + b;
  ```

  没有参数时，需要通过 `()` 进行占位，代表参数部分

  ```js
  let sayHello = () => console.info('hello');
  ```

- 代码不止一行时：

  ```js
  let sayHello = () => {
    console.info('hello');
    console.info('world');
  };
  ```
````

````ad-cite
title: 对象的函数属性简写
collapse: close

```js
let person = {
    name: …,
    age: …,
    // 老版
    eat1: function (food) {
        console.info(this.name + 'is eating ' + food);
    },
    // 箭头函数简写版
    eat2: (food) => console.info(this.name + 'is eating ' + food);
    // 更简的版本
    eat3(food) {
      console.info(this.name + 'is eating ' + food);
    }
};
```
````

````ad-cite
title: 箭头函数结合结构表达式
collapse: close

```js
const person = { … };

// 原代码
function hello(person) {
  console.info(person.name);
} 
hello(person);

// 现代码
var hello = ({name}) => console.info(name);
hello(person);
```

注意，上述的例子中，`name` 是被 `{ }` 包裹着的。
````
