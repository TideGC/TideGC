---
alias: Action 和 Action 辅助函数
---

## Action 和 Action 辅助函数

````ad-info
title: 总结
用 Mutation 只能做到同步变更，而 Action 用于实现异步变更<small>（例如，发起 AJAX 请求，在获得数据后变更 State 数据）</small>
````

关于==vuex 中为什么把把异步操作封装在 action ，把同步操作放在 mutations ？==的问题，vue 的作者尤雨溪在知乎上有专门的回答：
​
> [!cite] 官方回答
> 区分 actions 和 mutations 并不是为了解决竞态问题，而是为了能用 devtools 追踪状态变化。
> 
> 事实上在 vuex 里面 actions 只是一个架构性的概念，并不是必须的，说到底只是一个函数，你在里面想干嘛都可以，只要最后触发 mutation 就行。异步竞态怎么处理那是用户自己的事情。vuex 真正限制你的只有 mutation 必须是同步的这一点（在 redux 里面就好像 reducer 必须同步返回下一个状态一样）。
> 
> 同步的意义在于这样每一个 mutation 执行完成后都可以对应到一个新的状态（和 reducer 一样），这样 devtools 就可以打个 snapshot 存下来，然后就可以随便 time-travel 了。
> 
> 如果你开着 devtool 调用一个异步的 action，你可以清楚地看到它所调用的 mutation 是何时被记录下来的，并且可以立刻查看它们对应的状态。其实我有个点子一直没时间做，那就是把记录下来的 mutations 做成类似 rx-marble 那样的时间线图，对于理解应用的异步状态变化很有帮助。

简单来说，修改 State 的状态，你有 2 条路可以走：

- 路线一：

```
你的代码 
└──调──> Mutation 
         └──改──> State
```

- 路线二：

```
你的代码 
└──调──> Action
         └──调──> Mutation 
                  └──改──> State
```

区别在于 Mutation 中的代码是同步代码；而 Action 中的代码是异步代码（例如，AJAX 请求），然后，你再在异步操作的回调中，调用 Mutation 去修改 State 的状态。


