---
alias: 
- 嵌套路由
tags: 
- vue
- vue-router
---

## 嵌套路由

在设计项目的 URI 时，我们通常会将相关功能的 URI 归类到同一个 URI 路径下，例如：

- /about/xxx
- /about/yyy
- /about/zzz
- /about/…

对于这样的情况，我们可以使用『**嵌套路由**』来实现这样的功能。

```
一级组件/首页（<router-view>）
│
├── 二级组件-1
│
└── 二级组件-2（<router-view>）
    │
    ├── 三级组件-A
    │
    └── 三级组件-B
```

嵌套路由的页面方面的设计，就是将组件之间的关系组织成如上形式。二级组件和三级组件之间的关系，就是一级组件<small>（或首页）</small>和二级组件之间的关系的「重现」。

在这里，我们利用 vue-cli 自动生成的 `Home` 和 `About` 来演示。

我们可以将原用于 App.vue 中的 LoginForm 和 RegisterForm 整体『搬家』到 Home.vue 中：

```js
<div class="home">
  <router-link to="/login">登录</router-link>
  <router-link to="/register">注册</router-link>
  <hr/>
  <div>
    <login-form></login-form>
    <register-form></register-form>
  </div>
  <router-view/>
</div>
```

然后将 App.vue 中替换为 Home 和 About：

```js
<div id="app">
  <router-link to="/home">Home</router-link>
  <router-link to="/about">About</router-link>
  <hr/>
  <router-view/>
</div>
```

这样，它们几个就组成了类似于如下的层次结构：

```
App（<router-view>）
├── About
└── Home（<router-view>）
    ├── LoginForm 
    └── RegisterForm
```

最后，我们去做路由配置。在这里，嵌套路由的设置，需要利用上一级路由设置的 **children** 属性：

```js
const routes = [
    // {path: "/", redirect: '/home'},
    {
        path: "/home", component: () => import('@/views/Home'), children: [
            // 使用的是绝对路径 
            {path: "/login", name: 'LoginForm', component: LoginForm},
            {path: "/register", name: 'RegisterForm', component: () => import('@/components/RegisterForm')}
        ]
    },
    {path: "/about", component: () => import('@/views/About')},
]
```

**绝对路径和相对路径**：

- 如果，你在子路由中使用的是绝对路径（以 `/` 开头），那么，你是访问 `/login` 和 `/register` 来控制两个子路由的显示；
- 如果，你在子路由中使用的是相对路径，那么，子路由的访问路径是父路由路径 + 子路由路径，即，`/home/login` 和 `/home/register` 来控制两个子路由的显示。

无论是绝对路径和相对路径，父路由都不用以 `/` 结尾。


