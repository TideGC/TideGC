在 1.4 版本之前，Java IO 类库是阻塞 IO；从 1.4 版本开始引入了新的异步 IO 库，被称之为 Java New IO 类库，简称为 Java NIO 。New IO 类库的目标就是要让 Java 支持非阻塞 IO，基于此，更多的人喜欢称 Java NIO 为非阻塞 IO（Non-Blocking IO）。
  
总体来说，NIO 弥补了原来面向流的阻塞式 IO 的不足，为标准 Java 提供了高速、面向缓冲区的 IO 操作方式。

Java NIO 类库包括以下三个核心组件：

| # | 核心组件 |
| :-: | :- |
| 1 | Channel（通道）|
| 2 | Buffer（缓冲区）|
| 3 | Select（选择器）|

Java NIO 属于 IO 多路复用模型。

### 通道：Channel

在老式 IO 中，同一个网络连接会关联到 2 个流：一个输入流（Input Stream），另一个是输出流（Output Stream）。Java 应用程序通过这两个流不断地进行输入和输出的操作。

在 NIO 中，一个网络连接使用一个通道表示，所有 NIO 的 IO 操作都是通过连接通道完成的。一个通道类似于老式 IO 中两个流的几何体，既可以从 Channel 读取数据，也可以向 Channel 写入数据。

### 选择器

选择器（Selector）可以理解为一个 IO 事件的监听与查询器。通过 Selector，一个线程可以查询多个通道的 IO 事件的就绪状态。

由于一个选择器只需要一个线程进行监控，因此我们可以很简单地使用一个线程，通过选择器去管理多个连接通道。

与老式 IO 相比，NIO 使用选择器最大的优势是系统开销小。系统不必为每一个网络连接创建线程，从而大大减少了系统开销。

总之，一个线程负责多个连接通道的 IO 处理是非常搞笑的，这种高效来自 Java 选择组件 Selector 及其底层的操作系统 IO 多路复用技术的支持。

### 缓冲区

为了完成 NIO 的非阻塞读写操作，NIO 为我们准备了第三个重要组件：Buffer 。

- 所谓 Channel 的读取，就是将数据从 Channel 中读取到缓冲区中；
- 所谓 Channle 的写入，就是将数据从缓冲区中写入到 Channel 中。

缓冲区（Buffer）的使用是面向流进行读写操作的老式 IO 所没有的，也是 NIO 的重要前提和基础之一。

























