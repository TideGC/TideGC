## Zuul 中的 Eager Load 配置 

tags: #spring-cloud #zuulI

zuul 的路由转发也是由通过 Ribbon 实现负载均衡的。默认情况下，客户端相关的 Bean 会延迟加载，在第一次调用微服务时，才会初始化这些对象。所以 zuul 无法在第一时间加载到 Ribbon 的负载均衡。

如果想提前加载 Ribbon 客户端，就可以在配置文件中开启饥饿加载<small>（即，立即加载）</small>：

```yaml
zuul:
  ribbon:
    eager-load:
      enabled: true
```

> [!warning] 注意 
> **eager-load** 配置对于默认路由不起作用。因此，通常它都是结合 `忽略所有的默认路由` 一起使用的：`zuul.ignored-services=*` ，以达到 zuul 启动时就默认已经初始化各个路由所要转发的负载均衡对象。
