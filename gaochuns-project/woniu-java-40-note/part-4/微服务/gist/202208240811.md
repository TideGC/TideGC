## ServerWebExchange 对比 Servlet

tags: #gateway #webflux #ServerWebExchange

这里总结部分我在写代码中遇到的一些不同与相应代替办法

### request.setAttribute("key", "value") 的替代

ServerHttpRequest 中并无 Attribute 相关操作，要通过 exchange 来操作。
    
exchange.getAttributes().put(「key」, "value"); 

### request.getHeader("test") 的替代

request.getHeaders().getFirst(「test」)
    
遍历 Header 如下：

```java
HttpHeaders headers = request.getHeaders();
for (Map.Entry<String,List<String>> header:headers.entrySet()) {
	String key = header.getKey();
	List<String> values = header.getValue()；
}
```


