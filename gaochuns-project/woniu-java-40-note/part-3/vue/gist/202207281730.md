
---
alias: 挂载阶段
---

## 挂载阶段

挂在阶段的主要工作就是将创建阶段创建的 DOM Element 挂载到 HTML 页面的 DOM 树上，这样，这些 DOM Element 所代表的元素才能在页面上展现出来。所以，

- 在挂载阶段的前半段<small>（ beforeMount 被调用时 ）</small>：vue 实例的 "\$el" 是不可用的，于此同时，页面上也是没有内容展示的。<small>所以，这个时候插值表达式 "{{ }}" 还没被处理，页面上的内容就是插值表达式本身；</small>

- 挂载阶段的后半段<small>（ mounted 被调用时 ）</small>："\$el" 就变成可用了，页面也会有你所期望的内容呈现出来。

"\$refs" 和 "\$el" 一样，beforeMount 时不可用，在 mounted 之后才可用。

> [!bug] 一个坑
> 即便是挂载阶段后半段，Vue 2.0 也不保证挂在了当前组件的所有子组件，即，有可能你的组件的显示效果有残缺<small>（有子组件未挂载、未渲染）</small>。如果需要整个视图渲染完毕，可以使用 `vm.$nextTick` 
> 
>  ```js
>  mounted: () => {
>    this.$nextTick(() => { // 使用 nextTick 来等待所有的视图都渲染完毕
>      // 执行代码
>    });
>  }
>  ```
> 
> 简而言之一句话，挂在阶段要进行操作，稳妥起见要使用 $nextTick() 。
